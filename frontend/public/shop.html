<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop - Peekaboo Shades</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ============================================
       PEEKABOO SHADES - Shop Page Theme
       Elegant Typography & Consistent Branding
       ============================================ */

    :root {
      --pk-primary: #8E6545;
      --pk-primary-light: #A67B5B;
      --pk-primary-dark: #6B4D35;
      --pk-text-dark: #333333;
      --pk-text-brown: #8E6545;
      --pk-text-light: #666666;
      --pk-text-muted: #999999;
      --pk-bg-cream: #F8F6F3;
      --pk-bg-warm: #F6F1EB;
      --pk-bg-light: #FAFAFA;
      --pk-bg-white: #FFFFFF;
      --pk-border-light: #E8E8E8;
      --pk-border-medium: #D4D4D4;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif !important;
      font-size: 14px;
      line-height: 1.7;
      color: var(--pk-text-dark);
      background-color: var(--pk-bg-warm);
      font-weight: 400;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }

    a {
      text-decoration: none;
      color: inherit;
      transition: color 0.2s ease;
    }

    button {
      cursor: pointer;
      border: none;
      background: none;
      font-family: 'Montserrat', sans-serif;
    }

    input, select, textarea {
      font-family: 'Montserrat', sans-serif;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Montserrat', sans-serif;
      letter-spacing: -0.02em;
      font-weight: 600;
    }

    /* ============================================
       TOP BAR
       ============================================ */
    .top-bar {
      background-color: var(--pk-primary) !important;
      color: white;
      padding: 10px 0;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.02em;
    }

    .top-bar-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .top-bar-left {
      display: flex;
      gap: 25px;
    }

    .top-bar-left span {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .top-bar-right {
      display: flex;
      gap: 20px;
    }

    .top-bar-right a {
      color: white;
      font-weight: 500;
      letter-spacing: 0.02em;
    }

    .top-bar-right a:hover {
      opacity: 0.85;
    }

    /* ============================================
       MAIN HEADER
       ============================================ */
    .main-header {
      background-color: var(--pk-bg-white) !important;
      height: 120px;
      display: flex;
      align-items: center;
      border-bottom: 1px solid var(--pk-border-light);
      box-shadow: 0 2px 10px rgba(0,0,0,0.03);
    }

    .header-container {
      max-width: 1400px;
      width: 100%;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo-img {
      height: 100px !important;
      width: auto !important;
      border-radius: 8px;
    }

    .main-nav ul {
      display: flex;
      gap: 32px;
      list-style: none;
    }

    .main-nav a {
      font-size: 13px;
      font-weight: 500;
      color: var(--pk-text-dark);
      display: flex;
      align-items: center;
      gap: 6px;
      letter-spacing: 0.02em;
      transition: color 0.2s ease;
    }

    .main-nav a:hover,
    .main-nav a.active {
      color: var(--pk-primary);
    }

    .main-nav .nav-dropdown {
      position: relative;
    }

    .nav-dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--pk-bg-white);
      border: 1px solid var(--pk-border-light);
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      min-width: 200px;
      padding: 10px 0;
      opacity: 0;
      visibility: hidden;
      transform: translateY(10px);
      transition: all 0.3s ease;
      z-index: 100;
    }

    .nav-dropdown:hover .nav-dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .nav-dropdown-menu a {
      display: block;
      padding: 10px 20px;
      font-size: 13px;
      color: var(--pk-text-dark);
    }

    .nav-dropdown-menu a:hover {
      background: var(--pk-bg-warm);
      color: var(--pk-primary);
    }

    .header-icons {
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .search-bar {
      display: flex;
      align-items: center;
      background: var(--pk-bg-light);
      border: 1px solid var(--pk-border-light);
      border-radius: 25px;
      padding: 8px 16px;
      width: 220px;
      transition: border-color 0.2s ease;
    }

    .search-bar:focus-within {
      border-color: var(--pk-primary);
    }

    .search-bar input {
      border: none;
      background: none;
      outline: none;
      flex: 1;
      font-size: 13px;
      color: var(--pk-text-dark);
    }

    .search-bar input::placeholder {
      color: var(--pk-text-muted);
    }

    .search-bar button {
      color: var(--pk-text-muted);
      padding: 0;
      transition: color 0.2s ease;
    }

    .search-bar button:hover {
      color: var(--pk-primary);
    }

    .header-icon {
      position: relative;
      color: var(--pk-text-dark);
      font-size: 18px;
      transition: color 0.2s ease;
    }

    .header-icon:hover {
      color: var(--pk-primary);
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--pk-primary);
      color: white;
      font-size: 10px;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
    }

    /* ============================================
       HERO SECTION
       ============================================ */
    .hero-section {
      background: linear-gradient(135deg, var(--pk-primary) 0%, var(--pk-primary-dark) 100%);
      padding: 60px 0;
      text-align: center;
    }

    .hero-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 40px;
    }

    .hero-subtitle {
      color: rgba(255,255,255,0.85);
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      margin-bottom: 12px;
    }

    .hero-title {
      color: white;
      font-size: 42px;
      font-weight: 700;
      letter-spacing: -0.02em;
      text-transform: uppercase;
    }

    /* ============================================
       CATEGORY TABS
       ============================================ */
    .category-tabs {
      background: var(--pk-bg-white);
      border-bottom: 1px solid var(--pk-border-light);
      padding: 0;
    }

    .tabs-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .tabs-left {
      display: flex;
      gap: 0;
    }

    .tab-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 20px 24px;
      font-size: 13px;
      font-weight: 500;
      color: var(--pk-text-light);
      background: transparent;
      border: none;
      border-bottom: 3px solid transparent;
      cursor: pointer;
      transition: all 0.3s ease;
      letter-spacing: 0.02em;
    }

    .tab-btn:hover {
      color: var(--pk-primary);
      background: var(--pk-bg-warm);
    }

    .tab-btn.active {
      color: var(--pk-primary);
      border-bottom-color: var(--pk-primary);
      background: var(--pk-bg-warm);
    }

    .tab-btn svg {
      width: 22px;
      height: 22px;
    }

    .build-your-own-btn {
      background: var(--pk-primary) !important;
      color: white !important;
      border-radius: 8px;
      border-bottom: none !important;
      padding: 14px 24px;
      font-weight: 600;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      font-size: 12px;
      margin: 15px 0;
      transition: all 0.3s ease;
    }

    .build-your-own-btn:hover {
      background: var(--pk-primary-dark) !important;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(142, 101, 69, 0.3);
    }

    /* ============================================
       FILTER BAR
       ============================================ */
    .filter-bar {
      background: var(--pk-bg-cream);
      padding: 18px 0;
      border-bottom: 1px solid var(--pk-border-light);
    }

    .filter-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .filter-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .filter-pill {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      background: var(--pk-bg-white);
      border: 1px solid var(--pk-border-light);
      border-radius: 25px;
      font-size: 13px;
      font-weight: 500;
      color: var(--pk-text-dark);
      cursor: pointer;
      transition: all 0.2s ease;
      letter-spacing: 0.01em;
    }

    .filter-pill:hover {
      border-color: var(--pk-primary);
      color: var(--pk-primary);
    }

    .sort-select {
      padding: 10px 36px 10px 18px;
      background: var(--pk-bg-white);
      border: 1px solid var(--pk-border-light);
      border-radius: 25px;
      font-size: 13px;
      font-weight: 500;
      color: var(--pk-text-dark);
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%238E6545' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 14px center;
      letter-spacing: 0.01em;
    }

    .sort-select:focus {
      outline: none;
      border-color: var(--pk-primary);
    }

    .filter-right {
      display: flex;
      align-items: center;
    }

    .products-count {
      font-size: 14px;
      color: var(--pk-text-light);
      font-weight: 500;
      letter-spacing: 0.01em;
    }

    .products-count span {
      color: var(--pk-primary);
      font-weight: 600;
    }

    /* ============================================
       PRODUCTS SECTION
       ============================================ */
    .products-section {
      padding: 50px 0;
      background: var(--pk-bg-warm);
    }

    .products-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 40px;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
    }

    .product-card {
      background: var(--pk-bg-white);
      border-radius: 14px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid var(--pk-border-light);
    }

    .product-card:hover {
      box-shadow: 0 15px 40px rgba(0,0,0,0.1);
      transform: translateY(-6px);
    }

    .product-image {
      position: relative;
      padding-top: 100%;
      background: var(--pk-bg-light);
      overflow: hidden;
    }

    .product-image img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }

    .product-card:hover .product-image img {
      transform: scale(1.08);
    }

    .product-badge {
      position: absolute;
      top: 15px;
      left: 15px;
      background: var(--pk-primary);
      color: white;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .product-wishlist {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 40px;
      height: 40px;
      background: var(--pk-bg-white);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: var(--pk-text-light);
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .product-card:hover .product-wishlist {
      opacity: 1;
      transform: translateY(0);
    }

    .product-wishlist:hover {
      color: #e74c3c;
      transform: scale(1.1) !important;
    }

    .product-info {
      padding: 22px;
    }

    .product-title {
      font-size: 15px;
      font-weight: 500;
      color: var(--pk-text-dark);
      margin-bottom: 12px;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      letter-spacing: 0.01em;
    }

    .product-price {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .current-price {
      font-size: 18px;
      font-weight: 600;
      color: var(--pk-primary);
      letter-spacing: -0.01em;
    }

    .original-price {
      font-size: 14px;
      color: var(--pk-text-muted);
      text-decoration: line-through;
    }

    /* ============================================
       LOAD MORE
       ============================================ */
    .load-more-container {
      text-align: center;
      margin-top: 50px;
    }

    .load-more-btn {
      padding: 16px 48px;
      background: var(--pk-primary);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    .load-more-btn:hover {
      background: var(--pk-primary-dark);
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(142, 101, 69, 0.35);
    }

    /* ============================================
       FOOTER
       ============================================ */
    .main-footer {
      background: var(--pk-bg-cream);
      padding: 60px 0 30px;
    }

    .footer-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 40px;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr;
      gap: 40px;
      margin-bottom: 50px;
    }

    .footer-brand {
      padding-right: 30px;
    }

    .footer-logo {
      margin-bottom: 18px;
    }

    .footer-logo .logo-img,
    .footer-brand .logo-img {
      height: 80px !important;
      width: auto !important;
    }

    .footer-description {
      font-size: 14px;
      color: var(--pk-text-light);
      line-height: 1.75;
      margin-bottom: 24px;
      font-weight: 400;
    }

    .footer-social {
      display: flex;
      gap: 12px;
    }

    .social-icon {
      width: 38px;
      height: 38px;
      background: var(--pk-bg-white);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--pk-text-dark);
      font-size: 15px;
      transition: all 0.3s ease;
      border: 1px solid var(--pk-border-light);
    }

    .social-icon:hover {
      background: var(--pk-primary);
      color: white;
      border-color: var(--pk-primary);
      transform: translateY(-3px);
    }

    .footer-column h4 {
      font-size: 13px;
      font-weight: 600;
      color: var(--pk-text-dark);
      margin-bottom: 22px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .footer-column ul {
      list-style: none;
    }

    .footer-column ul li {
      margin-bottom: 14px;
    }

    .footer-column ul a {
      font-size: 14px;
      color: var(--pk-text-light);
      font-weight: 400;
      letter-spacing: 0.01em;
      transition: color 0.2s ease;
    }

    .footer-column ul a:hover {
      color: var(--pk-primary);
    }

    .footer-bottom {
      border-top: 1px solid var(--pk-border-light);
      padding-top: 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .footer-copyright {
      font-size: 13px;
      color: var(--pk-text-muted);
      font-weight: 400;
    }

    .footer-links {
      display: flex;
      gap: 25px;
    }

    .footer-links a {
      font-size: 13px;
      color: var(--pk-text-muted);
      font-weight: 400;
    }

    .footer-links a:hover {
      color: var(--pk-primary);
    }

    /* ============================================
       TOAST NOTIFICATIONS
       ============================================ */
    .toast-container {
      position: fixed;
      bottom: 25px;
      right: 25px;
      z-index: 3000;
    }

    .toast {
      background: var(--pk-text-dark);
      color: white;
      padding: 16px 24px;
      border-radius: 10px;
      margin-top: 12px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideIn 0.3s ease;
      font-size: 14px;
      font-weight: 500;
    }

    .toast.success {
      background: #28a745;
    }

    .toast.error {
      background: #dc3545;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* ============================================
       RESPONSIVE
       ============================================ */
    @media (max-width: 1200px) {
      .products-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .footer-grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .footer-brand {
        grid-column: span 3;
      }

      .tabs-left {
        overflow-x: auto;
        padding-bottom: 5px;
      }
    }

    @media (max-width: 992px) {
      .main-nav {
        display: none;
      }

      .tab-btn {
        padding: 16px 18px;
        font-size: 12px;
      }
    }

    @media (max-width: 768px) {
      .top-bar-container {
        flex-direction: column;
        gap: 10px;
      }

      .header-container {
        flex-wrap: wrap;
      }

      .hero-title {
        font-size: 32px;
      }

      .tabs-container {
        flex-direction: column;
        gap: 15px;
      }

      .filter-container {
        flex-direction: column;
        gap: 15px;
      }

      .filter-left {
        flex-wrap: wrap;
        justify-content: center;
      }

      .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }

      .footer-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .footer-brand {
        grid-column: span 2;
      }
    }

    @media (max-width: 576px) {
      .products-grid {
        grid-template-columns: 1fr;
      }

      .footer-grid {
        grid-template-columns: 1fr;
      }

      .footer-brand {
        grid-column: span 1;
      }

      .footer-bottom {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="top-bar-container">
      <div class="top-bar-left">
        <span><i class="fas fa-phone"></i> 1-800-SHADES</span>
        <span><i class="fas fa-envelope"></i> info@peekabooshades.com</span>
      </div>
      <div class="top-bar-right">
        <a href="#">Free Samples</a>
        <a href="#">Trade Program</a>
        <a href="#">Help</a>
      </div>
    </div>
  </div>

  <!-- Main Header -->
  <header class="main-header">
    <div class="header-container">
      <a href="/" class="logo">
        <img src="/images/peekabooshades_logo.jpeg" alt="Peekaboo Shades" class="logo-img" style="height: 50px; width: auto;">
      </a>

      <nav class="main-nav">
        <ul>
          <li class="nav-dropdown">
            <a href="/shop" class="active">Windows Blinds & Shades <i class="fas fa-chevron-down"></i></a>
            <div class="nav-dropdown-menu">
              <a href="/shop?category=roller-shades">Roller Shades</a>
              <a href="/shop?category=zebra-shades">Zebra Shades</a>
              <a href="/shop?category=roman-shades">Roman Shades</a>
              <a href="/shop?category=honeycomb-shades">Honeycomb Shades</a>
            </div>
          </li>
          <li><a href="#">Curtains</a></li>
          <li><a href="#">Look up My Order</a></li>
          <li><a href="#">Bulk Orders/Wholesale</a></li>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">My Account</a></li>
        </ul>
      </nav>

      <div class="header-icons">
        <div class="search-bar">
          <input type="text" placeholder="Search products..." id="searchInput">
          <button onclick="searchProducts()"><i class="fas fa-search"></i></button>
        </div>
        <a href="#" class="header-icon"><i class="far fa-heart"></i></a>
        <a href="#" class="header-icon"><i class="far fa-user"></i></a>
        <a href="/cart" class="header-icon">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count" id="cartCount">0</span>
        </a>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-container">
      <p class="hero-subtitle">CHOOSE THE PERFECT BLINDS AND ROLLER</p>
      <h1 class="hero-title">SHOP NOW</h1>
    </div>
  </section>

  <!-- Category Tabs -->
  <section class="category-tabs">
    <div class="tabs-container">
      <div class="tabs-left">
        <button class="tab-btn active" data-category="zebra-shades">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="1"/>
            <line x1="3" y1="7" x2="21" y2="7"/>
            <line x1="3" y1="11" x2="21" y2="11"/>
            <line x1="3" y1="15" x2="21" y2="15"/>
            <line x1="3" y1="19" x2="21" y2="19"/>
          </svg>
          Zebra Shades
        </button>
        <button class="tab-btn" data-category="roller-shades">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="1"/>
            <rect x="3" y="3" width="18" height="6" fill="currentColor" opacity="0.3"/>
            <line x1="12" y1="9" x2="12" y2="21"/>
          </svg>
          Roller Shades
        </button>
        <button class="tab-btn" data-category="roman-shades">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="1"/>
            <path d="M3 8 Q12 12 21 8"/>
            <path d="M3 13 Q12 17 21 13"/>
            <path d="M3 18 Q12 22 21 18"/>
          </svg>
          Roman Shades
        </button>
        <button class="tab-btn" data-category="natural-woven-shades">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="1"/>
            <line x1="3" y1="6" x2="21" y2="6"/>
            <line x1="3" y1="9" x2="21" y2="9"/>
            <line x1="3" y1="12" x2="21" y2="12"/>
            <line x1="3" y1="15" x2="21" y2="15"/>
            <line x1="3" y1="18" x2="21" y2="18"/>
            <line x1="6" y1="3" x2="6" y2="21"/>
            <line x1="12" y1="3" x2="12" y2="21"/>
            <line x1="18" y1="3" x2="18" y2="21"/>
          </svg>
          Natural Woven Shades
        </button>
        <button class="tab-btn" data-category="honeycomb-shades">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="1"/>
            <path d="M6 6 L9 3 L12 6 L9 9 Z"/>
            <path d="M12 6 L15 3 L18 6 L15 9 Z"/>
            <path d="M6 12 L9 9 L12 12 L9 15 Z"/>
            <path d="M12 12 L15 9 L18 12 L15 15 Z"/>
            <path d="M6 18 L9 15 L12 18 L9 21 Z"/>
            <path d="M12 18 L15 15 L18 18 L15 21 Z"/>
          </svg>
          Honeycomb Shades
        </button>
        <button class="tab-btn" data-category="drapes">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="3"/>
            <path d="M5 6 Q3 12 5 21"/>
            <path d="M9 6 Q7 12 9 21"/>
            <path d="M15 6 Q17 12 15 21"/>
            <path d="M19 6 Q21 12 19 21"/>
          </svg>
          Drapes
        </button>
      </div>
      <button class="tab-btn build-your-own-btn" onclick="window.location.href='/product/affordable-custom-roller-blinds'">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M3 21L12 12M12 12L21 3M12 12L3 3M12 12L21 21"/>
          <rect x="8" y="8" width="8" height="8" rx="1"/>
        </svg>
        Build Your Own
      </button>
    </div>
  </section>

  <!-- Filter Bar -->
  <section class="filter-bar">
    <div class="filter-container">
      <div class="filter-left">
        <button class="filter-pill" onclick="toggleFilters()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="4" y1="6" x2="20" y2="6"/>
            <line x1="8" y1="12" x2="16" y2="12"/>
            <line x1="10" y1="18" x2="14" y2="18"/>
          </svg>
          Filters
        </button>
        <button class="filter-pill" onclick="toggleColorFilter()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="9"/>
            <circle cx="12" cy="12" r="4"/>
          </svg>
          Color
        </button>
        <button class="filter-pill" onclick="toggleSizeFilter()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4L20 20M4 20L20 4"/>
          </svg>
          Size
        </button>
        <button class="filter-pill" onclick="togglePriceFilter()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 4L6 20M18 4L18 20M6 12L18 12"/>
          </svg>
          Price
        </button>
        <button class="filter-pill" onclick="toggleRoomFilter()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="4" y="8" width="16" height="12" rx="1"/>
            <path d="M8 8V6a4 4 0 018 0v2"/>
          </svg>
          Room
        </button>
        <select class="sort-select" id="sortFilter" onchange="applyFilters()">
          <option value="popular">Sort by: Most Popular</option>
          <option value="newest">Sort by: Newest</option>
          <option value="price_asc">Sort by: Price Low to High</option>
          <option value="price_desc">Sort by: Price High to Low</option>
          <option value="name">Sort by: Name A to Z</option>
        </select>
      </div>
      <div class="filter-right">
        <span class="products-count"><span id="productsCount">274</span> Products</span>
      </div>
    </div>
  </section>

  <!-- Products Grid -->
  <section class="products-section">
    <div class="products-container">
      <div class="products-grid" id="productsGrid">
        <!-- Products will be loaded dynamically -->
      </div>

      <div class="load-more-container">
        <button class="load-more-btn" id="loadMoreBtn" onclick="loadMore()">Load More</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="main-footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="footer-logo">
            <img src="/images/peekabooshades_logo.jpeg" alt="Peekaboo Shades" class="logo-img" style="height: 40px; width: auto;">
          </div>
          <p class="footer-description">
            Custom window blinds and shades designed to transform your space.
            Premium quality, affordable prices, and exceptional service.
          </p>
          <div class="footer-social">
            <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-pinterest"></i></a>
          </div>
        </div>

        <div class="footer-column">
          <h4>Products</h4>
          <ul>
            <li><a href="/shop?category=roller-shades">Roller Shades</a></li>
            <li><a href="/shop?category=roman-shades">Roman Shades</a></li>
            <li><a href="/shop?category=natural-woven-shades">Natural Woven</a></li>
            <li><a href="/shop?category=honeycomb-shades">Honeycomb Shades</a></li>
            <li><a href="/shop?category=drapes">Drapes</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Customer Service</h4>
          <ul>
            <li><a href="#">Track Order</a></li>
            <li><a href="#">Returns & Exchanges</a></li>
            <li><a href="#">Shipping Info</a></li>
            <li><a href="#">FAQs</a></li>
            <li><a href="#">Contact Us</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Talk To Us</h4>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Press</a></li>
            <li><a href="#">Blog</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h4>Resources</h4>
          <ul>
            <li><a href="#">Measuring Guide</a></li>
            <li><a href="#">Installation Guide</a></li>
            <li><a href="#">Free Samples</a></li>
            <li><a href="#">Trade Program</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p class="footer-copyright">&copy; 2024 Peekaboo Shades. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Accessibility</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <script src="/js/app.js"></script>
  <script>
    // Products data
    let allProducts = [];
    let filteredProducts = [];
    let currentPage = 1;
    const productsPerPage = 9;
    let currentCategory = 'all';

    // Product images - local images matching product detail page
    const productImages = [
      '/images/products/roller-blinds/gallery-1.jpg',
      '/images/products/roller-blinds/gallery-2.jpg',
      '/images/products/roller-blinds/gallery-3.jpg',
      '/images/products/roller-blinds/gallery-4.jpg',
      '/images/products/roller-blinds/gallery-5.jpg',
      '/images/products/roller-blinds/gallery-6.jpg',
      '/images/products/roller-blinds/gallery-7.jpg',
      '/images/products/roller-blinds/gallery-8.jpg'
    ];

    // Category-specific images
    const categoryImages = {
      'roller-shades': '/images/products/roller-blinds/gallery-1.jpg',
      'roman-shades': '/images/roman-shades.png',
      'natural-woven-shades': '/images/products/roller-blinds/gallery-3.jpg',
      'honeycomb-shades': '/images/honeycomb-shades.png',
      'drapes': '/images/products/roller-blinds/gallery-5.jpg',
      'zebra-shades': '/images/products/roller-blinds/gallery-2.jpg'
    };

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      // Check URL path for category (e.g., /category/roller-shades)
      const pathMatch = window.location.pathname.match(/^\/category\/([^\/]+)/);
      if (pathMatch) {
        const categorySlug = pathMatch[1];
        currentCategory = categorySlug;
        document.querySelectorAll('.tab-btn').forEach(btn => {
          btn.classList.remove('active');
          if (btn.dataset.category === categorySlug) {
            btn.classList.add('active');
          }
        });
      } else {
        // Check URL params for category (e.g., /shop?category=roller-shades)
        const urlParams = new URLSearchParams(window.location.search);
        const categoryParam = urlParams.get('category');
        if (categoryParam) {
          currentCategory = categoryParam;
          document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.dataset.category === categoryParam) {
              btn.classList.add('active');
            }
          });
        }
      }

      loadCategories();
      loadProducts();
      setupCategoryTabs();
      updateCartCount();
    });

    // Load categories from API
    async function loadCategories() {
      try {
        const response = await fetch('/api/categories');
        const result = await response.json();

        if (result.success && result.data && result.data.length > 0) {
          renderCategoryTabs(result.data);
        }
      } catch (error) {
        console.log('Using default categories');
      }
    }

    // Render category tabs from API data
    function renderCategoryTabs(categories) {
      const tabsLeft = document.querySelector('.tabs-left');
      if (!tabsLeft) return;

      // Category icon mapping
      const iconMap = {
        'roller-shades': `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="1"/><rect x="3" y="3" width="18" height="6" fill="currentColor" opacity="0.3"/><line x1="12" y1="9" x2="12" y2="21"/></svg>`,
        'zebra-shades': `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="1"/><line x1="3" y1="7" x2="21" y2="7"/><line x1="3" y1="11" x2="21" y2="11"/><line x1="3" y1="15" x2="21" y2="15"/><line x1="3" y1="19" x2="21" y2="19"/></svg>`,
        'roman-shades': `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="1"/><path d="M3 8 Q12 12 21 8"/><path d="M3 13 Q12 17 21 13"/><path d="M3 18 Q12 22 21 18"/></svg>`,
        'natural-woven-shades': `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="1"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="6" y1="3" x2="6" y2="21"/><line x1="12" y1="3" x2="12" y2="21"/><line x1="18" y1="3" x2="18" y2="21"/></svg>`,
        'honeycomb-shades': `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="1"/><path d="M6 6 L9 3 L12 6 L9 9 Z"/><path d="M12 6 L15 3 L18 6 L15 9 Z"/><path d="M6 12 L9 9 L12 12 L9 15 Z"/><path d="M12 12 L15 9 L18 12 L15 15 Z"/></svg>`,
        'drapes': `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="3"/><path d="M5 6 Q3 12 5 21"/><path d="M9 6 Q7 12 9 21"/><path d="M15 6 Q17 12 15 21"/><path d="M19 6 Q21 12 19 21"/></svg>`
      };

      // Default icon
      const defaultIcon = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="3" y1="12" x2="21" y2="12"/></svg>`;

      tabsLeft.innerHTML = categories.map(cat => `
        <button class="tab-btn ${currentCategory === cat.slug ? 'active' : ''}" data-category="${cat.slug}">
          ${iconMap[cat.slug] || defaultIcon}
          ${cat.name}
        </button>
      `).join('');

      // Rebind event listeners
      setupCategoryTabs();
    }

    // Load products from API
    async function loadProducts() {
      try {
        const categoryParam = currentCategory !== 'all' ? `?category=${currentCategory}` : '';
        const response = await fetch(`/api/products${categoryParam}`);
        const result = await response.json();

        if (result.success) {
          allProducts = result.data.map((product, index) => ({
            ...product,
            image_url: product.image_url || categoryImages[product.category_slug] || productImages[index % productImages.length]
          }));
          filteredProducts = [...allProducts];
          renderProducts();
        }
      } catch (error) {
        console.error('Error loading products:', error);
        // Load demo products if API fails
        loadDemoProducts();
      }
    }

    // Demo products for when API is not available
    function loadDemoProducts() {
      allProducts = [
        {
          id: '1',
          slug: 'affordable-custom-roller-blinds',
          name: 'Affordable Custom Roller Blinds & shades',
          category_name: 'Roller Shades',
          category_slug: 'roller-shades',
          base_price: 40.00,
          sale_price: null,
          image_url: '/images/products/roller-blinds/gallery-1.jpg'
        },
        {
          id: '2',
          slug: 'energy-efficient-roman-shades',
          name: 'Energy Efficient Roman Shades',
          category_name: 'Roman Shades',
          category_slug: 'roman-shades',
          base_price: 89.79,
          sale_price: null,
          image_url: '/images/roman-shades.png'
        },
        {
          id: '3',
          slug: 'affordable-zebra-window-blinds',
          name: 'Affordable Custom Zebra Window Blinds',
          category_name: 'Natural Woven Shades',
          category_slug: 'natural-woven-shades',
          base_price: 50.00,
          sale_price: null,
          image_url: '/images/products/roller-blinds/gallery-3.jpg'
        },
        {
          id: '4',
          slug: 'natural-woven-timeless',
          name: 'Natural Woven Shades - Timeless Elegance',
          category_name: 'Honeycomb Shades',
          category_slug: 'honeycomb-shades',
          base_price: 65.00,
          sale_price: null,
          image_url: '/images/honeycomb-shades.png'
        },
        {
          id: '5',
          slug: 'blackout-roller-blinds',
          name: 'Affordable Custom Roller Blinds & shades',
          category_name: 'Roller Shades',
          category_slug: 'roller-shades',
          base_price: 40.00,
          sale_price: null,
          image_url: '/images/products/roller-blinds/gallery-2.jpg'
        },
        {
          id: '6',
          slug: 'premium-roman-shades',
          name: 'Energy Efficient Roman Shades',
          category_name: 'Roman Shades',
          category_slug: 'roman-shades',
          base_price: 89.79,
          sale_price: null,
          image_url: '/images/roman-shades.png'
        },
        {
          id: '7',
          slug: 'zebra-blinds-premium',
          name: 'Affordable Custom Zebra Window Blinds',
          category_name: 'Natural Woven Shades',
          category_slug: 'natural-woven-shades',
          base_price: 50.00,
          sale_price: null,
          image_url: '/images/products/roller-blinds/gallery-4.jpg'
        },
        {
          id: '8',
          slug: 'cellular-shades',
          name: 'Natural Woven Shades - Timeless Elegance with Organic Appeal',
          category_name: 'Honeycomb Shades',
          category_slug: 'honeycomb-shades',
          base_price: 65.00,
          sale_price: null,
          image_url: '/images/honeycomb-shades.png'
        },
        {
          id: '9',
          slug: 'roller-blackout-2',
          name: 'Affordable Custom Roller Blinds & shades',
          category_name: 'Roller Shades',
          category_slug: 'roller-shades',
          base_price: 40.00,
          sale_price: null,
          image_url: '/images/products/roller-blinds/gallery-5.jpg'
        }
      ];

      filteredProducts = currentCategory === 'all'
        ? [...allProducts]
        : allProducts.filter(p => p.category_slug === currentCategory);

      renderProducts();
    }

    // Render products
    function renderProducts() {
      const grid = document.getElementById('productsGrid');
      const endIndex = currentPage * productsPerPage;
      const productsToShow = filteredProducts.slice(0, endIndex);

      grid.innerHTML = productsToShow.map(product => `
        <div class="product-card" onclick="window.location.href='/product/${product.slug}'">
          <div class="product-image">
            <img src="${product.image_url}" alt="${product.name}">
            ${product.sale_price ? '<span class="product-badge">Sale</span>' : ''}
            <button class="product-wishlist" onclick="event.stopPropagation(); addToWishlist('${product.id}')">
              <i class="far fa-heart"></i>
            </button>
          </div>
          <div class="product-info">
            <h3 class="product-title">${product.name}</h3>
            <div class="product-price">
              <span class="current-price">$${product.base_price.toFixed(2)} USD</span>
              ${product.sale_price ? `<span class="original-price">$${product.sale_price.toFixed(2)}</span>` : ''}
            </div>
          </div>
        </div>
      `).join('');

      // Update count
      document.getElementById('productsCount').textContent = filteredProducts.length;

      // Show/hide load more button
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      if (endIndex >= filteredProducts.length) {
        loadMoreBtn.style.display = 'none';
      } else {
        loadMoreBtn.style.display = 'inline-block';
      }
    }

    // Setup category tabs
    function setupCategoryTabs() {
      document.querySelectorAll('.tab-btn:not(.build-your-own-btn)').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
          this.classList.add('active');

          currentCategory = this.dataset.category;
          currentPage = 1;

          if (currentCategory === 'all') {
            filteredProducts = [...allProducts];
          } else {
            filteredProducts = allProducts.filter(p => p.category_slug === currentCategory);
          }

          renderProducts();

          // Update URL
          const url = new URL(window.location);
          if (currentCategory === 'all') {
            url.searchParams.delete('category');
          } else {
            url.searchParams.set('category', currentCategory);
          }
          window.history.pushState({}, '', url);
        });
      });
    }

    // Apply filters
    function applyFilters() {
      const sort = document.getElementById('sortFilter').value;
      const priceRange = document.getElementById('priceFilter').value;

      // Start with category filtered products
      let products = currentCategory === 'all'
        ? [...allProducts]
        : allProducts.filter(p => p.category_slug === currentCategory);

      // Price filter
      if (priceRange) {
        if (priceRange === '200+') {
          products = products.filter(p => p.base_price >= 200);
        } else {
          const [min, max] = priceRange.split('-').map(Number);
          products = products.filter(p => p.base_price >= min && p.base_price <= max);
        }
      }

      // Sort
      if (sort === 'price_asc') {
        products.sort((a, b) => a.base_price - b.base_price);
      } else if (sort === 'price_desc') {
        products.sort((a, b) => b.base_price - a.base_price);
      } else if (sort === 'name') {
        products.sort((a, b) => a.name.localeCompare(b.name));
      }

      filteredProducts = products;
      currentPage = 1;
      renderProducts();
    }

    // Load more products
    function loadMore() {
      currentPage++;
      renderProducts();
    }

    // Search products
    function searchProducts() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      if (!query) {
        filteredProducts = currentCategory === 'all'
          ? [...allProducts]
          : allProducts.filter(p => p.category_slug === currentCategory);
      } else {
        filteredProducts = allProducts.filter(p =>
          p.name.toLowerCase().includes(query) ||
          p.category_name.toLowerCase().includes(query)
        );
      }
      currentPage = 1;
      renderProducts();
    }

    // Search on enter key
    document.getElementById('searchInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        searchProducts();
      }
    });

    // Toggle filters (mobile)
    function toggleFilters() {
      // Implement mobile filter panel toggle
      showToast('Filter panel coming soon!');
    }

    // Add to wishlist
    function addToWishlist(productId) {
      showToast('Added to wishlist!', 'success');
    }

    // ============================================
    // API-DRIVEN CONTENT MANAGEMENT
    // ============================================
    let shopSettings = {};

    async function loadSiteContent() {
      try {
        const response = await fetch('/api/site-content');
        if (!response.ok) return;
        const result = await response.json();

        // Handle API response structure
        if (!result.success) return;
        const content = result.content || {};

        // Apply theme colors
        if (content.theme) {
          applyTheme(content.theme);
        }

        // Apply shop page settings
        if (content.shopPage) {
          shopSettings = content.shopPage;
          applyShopSettings(content.shopPage);
        }

        // Apply navigation to footer
        if (content.navigation) {
          applyNavigation(content.navigation);
        }

        // Apply footer
        if (content.footer) {
          applyFooter(content.footer);
        }

        // Apply announcement bar
        if (content.announcements && content.announcements.bar && content.announcements.bar.enabled) {
          showAnnouncementBar(content.announcements.bar);
        }

        // Apply SEO settings
        if (content.seo) {
          applySEO(content.seo);
        }

      } catch (error) {
        console.log('Using default content (API not available)');
      }
    }

    function applySEO(seo) {
      if (seo.shopPageTitle) {
        document.title = seo.shopPageTitle;
      }
      // Add meta description
      if (seo.shopPageDescription) {
        let metaDesc = document.querySelector('meta[name="description"]');
        if (!metaDesc) {
          metaDesc = document.createElement('meta');
          metaDesc.name = 'description';
          document.head.appendChild(metaDesc);
        }
        metaDesc.content = seo.shopPageDescription;
      }
    }

    function applyTheme(theme) {
      const root = document.documentElement;

      // Apply CSS variables for global theming
      if (theme.primaryColor) {
        root.style.setProperty('--primary-color', theme.primaryColor);
        // Apply to active tabs and buttons
        document.querySelectorAll('.tab-btn.active').forEach(el => {
          el.style.backgroundColor = theme.primaryColor;
          el.style.color = '#ffffff';
        });
        document.querySelectorAll('.load-more-btn').forEach(el => {
          el.style.backgroundColor = theme.primaryColor;
        });
      }

      if (theme.secondaryColor) {
        root.style.setProperty('--secondary-color', theme.secondaryColor);
      }

      if (theme.accentColor) {
        root.style.setProperty('--accent-color', theme.accentColor);
      }

      if (theme.backgroundColor) {
        root.style.setProperty('--background-color', theme.backgroundColor);
        document.body.style.backgroundColor = theme.backgroundColor;
      }

      if (theme.textColor) {
        root.style.setProperty('--text-color', theme.textColor);
        document.body.style.color = theme.textColor;
      }

      if (theme.headingFont) {
        root.style.setProperty('--heading-font', theme.headingFont);
        document.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach(el => {
          el.style.fontFamily = theme.headingFont + ', serif';
        });
      }

      if (theme.bodyFont) {
        root.style.setProperty('--body-font', theme.bodyFont);
        document.body.style.fontFamily = theme.bodyFont + ', sans-serif';
      }

      // Apply header styling
      if (theme.headerBackground) {
        document.querySelectorAll('.main-header').forEach(el => {
          el.style.backgroundColor = theme.headerBackground;
        });
      }

      // Apply button border radius
      if (theme.buttonBorderRadius) {
        document.querySelectorAll('.load-more-btn, .tab-btn, .filter-pill').forEach(el => {
          el.style.borderRadius = theme.buttonBorderRadius;
        });
      }
    }

    function applyShopSettings(settings) {
      // Apply hero section
      if (settings.heroTitle) {
        const heroTitle = document.querySelector('.hero-title');
        if (heroTitle) heroTitle.textContent = settings.heroTitle;
      }
      if (settings.heroSubtitle) {
        const heroSubtitle = document.querySelector('.hero-subtitle');
        if (heroSubtitle) heroSubtitle.textContent = settings.heroSubtitle;
      }
      if (settings.heroImage) {
        const heroSection = document.querySelector('.hero-section');
        if (heroSection) {
          heroSection.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('${settings.heroImage}')`;
        }
      }

      // Apply products per page
      if (settings.productsPerPage) {
        productsPerPage = settings.productsPerPage;
      }

      // Apply grid columns (if customizing via CSS)
      if (settings.gridColumns) {
        const grid = document.getElementById('productsGrid');
        if (grid) {
          grid.style.gridTemplateColumns = `repeat(${settings.gridColumns}, 1fr)`;
        }
      }

      // Apply sort options
      if (settings.defaultSort) {
        const sortSelect = document.getElementById('sortFilter');
        if (sortSelect) {
          sortSelect.value = settings.defaultSort;
        }
      }

      // Show/hide filters based on settings
      if (settings.showCategoryFilter === false) {
        const categoryTabs = document.querySelector('.category-tabs');
        if (categoryTabs) categoryTabs.style.display = 'none';
      }
      if (settings.showPriceFilter === false) {
        const priceFilter = document.querySelector('[onclick="togglePriceFilter()"]');
        if (priceFilter) priceFilter.style.display = 'none';
      }
      if (settings.showSearchBox === false) {
        const searchBar = document.querySelector('.search-bar');
        if (searchBar) searchBar.style.display = 'none';
      }

      // Update page title
      const seo = settings.seo || {};
      if (seo.shopPageTitle) {
        document.title = seo.shopPageTitle;
      }
    }

    function applyNavigation(navigation) {
      // Apply social links to footer
      if (navigation.socialLinks && navigation.socialLinks.length > 0) {
        const socialContainer = document.querySelector('.footer-social');
        if (socialContainer) {
          socialContainer.innerHTML = navigation.socialLinks.map(link => {
            const iconMap = {
              facebook: 'fab fa-facebook-f',
              instagram: 'fab fa-instagram',
              twitter: 'fab fa-twitter',
              pinterest: 'fab fa-pinterest-p',
              youtube: 'fab fa-youtube',
              linkedin: 'fab fa-linkedin-in',
              tiktok: 'fab fa-tiktok'
            };
            return `<a href="${link.url}" class="social-icon" target="_blank"><i class="${iconMap[link.platform] || 'fas fa-link'}"></i></a>`;
          }).join('');
        }
      }

      // Apply footer columns
      if (navigation.footerColumns && navigation.footerColumns.length > 0) {
        const footerGrid = document.querySelector('.footer-grid');
        if (footerGrid) {
          const brandSection = footerGrid.querySelector('.footer-brand');
          const columnsHtml = navigation.footerColumns.map(col => `
            <div class="footer-column">
              <h4>${col.title}</h4>
              <ul>
                ${(col.links || []).map(link => `<li><a href="${link.url}">${link.label}</a></li>`).join('')}
              </ul>
            </div>
          `).join('');
          footerGrid.innerHTML = brandSection ? brandSection.outerHTML + columnsHtml : columnsHtml;
        }
      }
    }

    function applyFooter(footer) {
      if (footer.copyrightText) {
        const copyright = document.querySelector('.footer-copyright');
        if (copyright) copyright.textContent = footer.copyrightText;
      }
    }

    function showAnnouncementBar(announcement) {
      let announcementBar = document.querySelector('.announcement-bar');
      if (!announcementBar) {
        announcementBar = document.createElement('div');
        announcementBar.className = 'announcement-bar';
        announcementBar.style.cssText = 'background: #333; color: white; text-align: center; padding: 10px; font-size: 14px;';
        document.body.insertBefore(announcementBar, document.body.firstChild);
      }

      if (announcement.link) {
        announcementBar.innerHTML = `<a href="${announcement.link}" style="color: white; text-decoration: underline;">${announcement.text}</a>`;
      } else {
        announcementBar.textContent = announcement.text;
      }
    }

    // Load site content on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadSiteContent();
    });
  </script>
</body>
</html>
